// Components
// ----------

// Page level components
// --------------------------------------------------------
.container {
	width: $mainWidth;
  background-color: $beige;
	margin: 0 auto;
  .authentication & {
    background-color: transparent;
    margin-top: 11.2rem;
  }
}

// Page banner
// --------------------------
.page-banner {
	height: 3.4rem;
  background-color: $tealLight;
	padding: 0.9rem 0;
  position: relative;
  z-index: 250;
}

.page-banner--logo {
	@extend %center;
	display: block;
	height: 1.6rem;
}

// Page header
// --------------------------
.page-header {
  width: 100%;
  height: $headerHeight;
  position: absolute;
  z-index: 200;
  &.stuck {
    position: fixed;
    top: 0;
  }
}

// Primary nav
// --------------------------
.primary-nav {
  @extend %shaded-top;
  background-color: $grayDark;
  margin: 0 auto;
  position: relative;
  z-index: 220;
}

.primary-nav--wrapper {
  width: $mainWidth;
  height: $headerHeight;
  margin: 0 auto;
  position: relative;
}

// Course selector
// ------------
.course-selector {
  position: absolute;
  top: 2.3rem;
  left: 2rem
}

.course-selector--toggle {
  @extend %dropdown-toggle;
}

.course-selector--dropdown {
  @extend %dropdown;
}

// User selector
// ------------
.user-selector {
  margin-right: 6.4rem;
  position: absolute;
  top: 2.3rem;
  right: 2rem;
}

.user-selector--toggle {
  @extend %dropdown-toggle;
}

.user-selector--dropdown {
  @extend %dropdown-right;
}

.primary-nav--avatar {
  @extend %round-avatar;
  position: absolute;
  top: -0.7rem;
  right: -6.4rem;
}

// Adaptive nav
// Lives inside .primary-nav
// --------------------------
.adaptive-nav {
  position: absolute;
  bottom: 2rem;
  left: 6.3rem;
}

.adaptive-nav--list {
  @extend %piped-list;
  margin: 0;
  left: 0;
  &>li {
    @extend %dropdown-container;
    color: $grayLight;
    &>a {
      @extend %gamma;
      @extend %bare-link;
      @extend %bare-focus;
      line-height: 1;
      &:hover,
      .open & {
        color: $orange;
      }
    }
  }
  &>li + li {
    margin-left: 4.2rem;
  }
}

// .adaptive-nav--link {
//   @extend %gamma;
//   @extend %bare-focus;
//   line-height: 1;
//   &:hover,
//   .open & {
//     color: $orange;
//   }
// }

.adaptive-nav--dropdown {
  @extend %dropdown;
}

// Shortcut nav
// --------------------------
.shortcut-nav {
  @extend %shaded-top-bottom;
  @include transition(0.2s top ease-out);
  height: 10.2rem;
  // height: 0;
  background-color: $grayDarker;
  position: relative;
  top: -10.2rem;
  z-index: 210;
  &.visible {
    // height: 10.2rem;
    top: 0;
  }
}

.shortcut-nav--wrapper {
  width: $mainWidth;
  height: 100%;
  padding: 2.5rem 2rem 0;
  margin: 0 auto;
  position: relative;
}

.shortcut-nav--item {
  float: left;
  & + & {
    margin-left: 3.4rem;
  }
}

// This styles the title for each .shortcut-nav--item
.shortcut-nav--title {
  @extend %epsilon-caps;
  color: $grayLight;
  margin-bottom: 0.7rem;
}

// Lives inside .primary-nav 
.shortcut-nav--toggle {
  @extend %hidden-text;
  @extend %bare-focus;
  @include svg(square-arrow-down-gray);
  display: block;
  width: 2.5rem;
  height: 2.5rem;
  color: $grayDarkest;
  position: absolute;
  bottom: 1.5rem;
  left: 2rem;
  &:hover {
    @include svg(square-arrow-down-orange);
  }
  &.active {
    @include svg(square-arrow-up-black);
    &:hover {
      @include svg(square-arrow-up-orange);
    }
  }
}

// Assignment selector
// ------------
.assignment-selector {
  @extend %dropdown-container;
}

.assignment-selector--toggle {
  @extend %dropdown-toggle-dark;
}

.assignment-selector--dropdown {
  @extend %dropdown;
}

// Peer selector
// ------------
.peer-selector {
  @extend %dropdown-container;
}

.peer-selector--toggle {
  @extend %dropdown-toggle-dark;
}

.peer-selector--dropdown {
  @extend %dropdown;
}

// Help nav
// ------------
.help-nav {

}

.help-nav--list {
  @extend %piped-list;
  padding: 0.7rem 0 0.6rem;
  margin: 0;
  li {
    @extend %gamma;
    color: $grayLight;
  }
  li + li {
    margin-left: 4rem;
  }
  a {
    @extend %bare-link;
    @extend %orange-hover;
  }
}

.help-nav--label {
  @extend %no-select;
  position: relative;
  cursor: pointer;
  &.active,
  &:hover {
    color: $orange;
    .help-nav--checkbox {
      &:checked {
        & + b {
          @include svg(radio-checked-orange);
        }
      }
    }
    b {
      @include svg(radio-unchecked-orange);
    }
  }
}

// Lives inside .help-nav--label
.help-nav--checkbox {
  @extend %round-checkbox;
}

// Lives inside .help-nav--label
.help-nav--checkbox-text {
  margin-left: 0.7rem;
}

// Page content
// --------------------------------------------------------
.page-content {
  @extend %shaded-sides;
  background-color: $beige;
  margin-top: $headerHeight;
  position: relative;
  z-index: 100;
  overflow-x: hidden;
}

.page-content--frame {
  padding: 0 3.9rem;
  p {
    margin-bottom: 1.6rem;
  }
}

// Generic content
// --------------------------------------------------------
// Can live inside any container
.content-frame {
  @extend %frame;
}

// Bar header
// NB the only link that should be included as a direct child of this
// is a button, like .teal-plus-button or .teal-arrow-button
// --------------------------
.bar-header {
  @extend %clearfix;
  @extend %shaded-bottom;
  height: 8rem;
  background-color: $tealLightestAlt;
  padding: 2.4rem 3.9rem;
  position: relative;
  z-index: 110;
  &>a {
    float: right;
  }
}

.bar-header--title {
  @extend %heading-gamma-sup;
  color: $tealMedium;
  padding: 0.7rem 0;
  float: left;
}

// Button header
// NB only one link should be included as a direct child of this, 
// preceding .button-header--title
// --------------------------
.button-header {
  margin-bottom: 1.6rem;
  &>a {
    @extend %large-gray-button;
    display: inline-block;
    vertical-align: top;
    margin-right: 0.9rem;
  }
}

.button-header--title {
  @extend %mega;
  @include font-head;
  @include font-size(29);
  display: inline-block;
  text-transform: uppercase;
  color: $tealMedium;
  line-height: 1;
  padding: 0.2rem 0 0.1rem;
}

// Table
// --------------------------
// <table>
.table {
  width: 100%;
  border-top: 0.1rem solid transparentize($tealLight, 0.5);
  border-bottom: 0.1rem solid $tealLighter;
  thead {
    border-bottom: 0.1rem solid transparentize($tealLight, 0.5);
    tr {
      background-color: $tealLightest;
    }
    th {
      @extend %heading-epsilon;
      height: 3.6rem;      
      border-left: 0.1rem solid transparentize($tealLight, 0.5);
    }
  }
  tr {
    background-color: #d4d1d1;
    &:nth-child(even) {
      background-color: #dddada;
    }
  }
  th {
    color: $tealMedium;
    text-align: left;
    padding: 0 1.2rem;
    &:first-child {
      padding-left: 3.9rem;
    }
    div {
      @extend %kilo;
      @include font-head;
      width: 21rem;
      text-transform: uppercase;
      white-space: nowrap;
      text-overflow: ellipsis;      
      overflow: hidden;
    }
  }
  td {
    @extend %delta;
    max-width: 33rem;
    vertical-align: top;
    padding: 1rem 1.2rem;
    border-left: 0.1rem solid transparentize($tealLight, 0.5);
    a {
      @extend %bare-link;
      @extend %orange-hover;
    }
  }
}

// Pagination nav
// --------------------------
.pagination-nav {
  background-color: $tealLightestAlt;
  padding: 2rem 3.9rem;
  ul {
    @extend %piped-link-list;
    margin: 0;
  }
}

// Tab nav
// --------------------------
.tab-nav {
  ul {
    @extend %piped-link-list;
    margin: 0 0 1.6rem;
  }
}

// Frame header
// Can live inside any container which extends %frame
// --------------------------
.frame--header {
  margin-bottom: 2.1rem;
  position: relative;
}

.frame--title {
  @extend %heading-beta-alt;
  display: inline-block;
  color: $teal;
  line-height: 1.2;
}

.frame--header--button {
  @extend %teal-button;
  position: absolute;
  top: -0.3rem;
  right: 0;
}

.frame--header--comments {
  display: inline-block;
  margin: 0 0 -1.3rem 1.4rem;
  ul {
    @extend %speech-bubble-list;
  }
}

// Forms
// --------------------------------------------------------
// Wraps label, input & message,
// or up to two .input-group-half
.input-group {
  @extend %clearfix;
  margin-bottom: 2.4rem;
}

.input-group--half {
  width: 50%;
  float: left;
  padding-right: 2.1rem;
  &:nth-child(2) {
    padding: 0 0 0 2.1rem;
  }
}

// Text inputs
// --------------------------
.text-label {
  @extend %heading-epsilon;
  display: block;
  color: $tealMedium;
  margin-bottom: 0.7rem;
}

.text-input {
  @extend %medium-text-input;
  width: 100%;
}

.text-area-input {
  @extend %text-area-input;
}

// Checkboxes
// --------------------------
.checkbox-label {
  display: block;
  width: 50%;
  margin-bottom: 1rem;
  float: left;
  position: relative;
  .checkbox {
    @extend %multicolored-square-checkbox;
    width: 2rem;
    height: 2rem;
    margin-right: 0.3rem;
  }
}

// Radio buttons
// --------------------------
.radio-label {
  display: block;
  margin: 0 3rem 1rem 0;
  float: left;
  position: relative;
  .radio {
    @extend %multicolored-round-checkbox;
    width: 1.7rem;
    height: 1.7rem;
    margin-right: 0.4rem;
  }
}

// Select inputs
// --------------------------
.select-input {
  @include background-clip(padding);
  display: block;
  height: 2.8rem;
  color: $grayDark;
  background-color: $beigeLight;
  padding: 0.4rem 1.1rem 0.4rem 1.1rem;
  border-right: 0.2rem solid transparent;
  border-radius: $radius 0 0 $radius;
  margin-right: 3.6rem;
  position: relative;
  cursor: pointer; 
  &:before {
    content: "";
    background-color: inherit;
    display: block;
    width: 3.6rem;
    border-radius: 0 $radius $radius 0;
    position: absolute;
    top: 0;
    right: -3.8rem;
    bottom: 0;
  }
  &:after {
    @include svg(arrow-down-grayDark);
    content: "";
    display: block;
    width: 1.8rem;
    height: 0.9rem;
    position: absolute;
    top: 1.1rem;
    right: -2.8rem;
  }
}

.select-input--value {
  display: block;
}

.select-input--dropdown {

}

// Messages & alerts
// --------------------------
.input-message {
  @extend %epsilon;
  display: block;
  font-style: italic;
}

// Portfolio
// --------------------------------------------------------
.portfolio {

}

.portfolio-frame {
  @extend %frame;
}

.constrained-portfolio-frame {
  @extend %constrained-frame;
}

// Frame attachment
// --------------------------
.frame-attachment {
  @extend %frame--left;
}

.frame-attachment--image {
  display: block;
  width: 100%;
  border: 0.1rem solid $grayLighter;
}

.frame-attachment--details {

}

.frame-attachment--link {
  @extend %heading-epsilon;
  @extend %arrow-link;
  margin-top: 2.2rem;
}

// Comments nav
// ------------
.comments-nav {
  margin-top: 0.9rem;
  ul {
    @extend %speech-bubble-list;
  }
}

// Frame summary
// --------------------------

// TODO assess .matrix--overlay specific styles;
// streamline where possible

.frame-summary {
  @extend %frame--right;
  position: relative;
}

.frame-summary--title {
  @extend %heading-giga;
  margin-bottom: 0.3rem;
  .matrix--overlay & {
    margin-bottom: 1rem;
  }
}

.frame-summary--creator {
  @extend %gamma-sup;
  color: $grayLight;
  margin-bottom: 0.5rem;
}

.frame-summary--course {
  @extend %gamma-sup;
  color: $grayLight;
  margin-bottom: 1.4rem;
}

.frame-summary--link {
  @extend %heading-epsilon;
  @extend %arrow-link;
  margin: 1.9rem 0 0 0.8rem;
}

.frame-summary--status {
  @extend %heading-epsilon;
  @extend %check-indicator;
  margin-top: 1.6rem;
  float: right;
}

// Score list
// ------------
.frame-summary--score-list {
  @extend %score-list;
}

.frame-summary--evaluated {
  @extend %active-criterion;
  .matrix--overlay & {
    height: 3rem;
  }
}

.frame-summary--unevaluated {
  @extend %inactive-criterion;
  .matrix--overlay & {
    height: 3rem;
  }
}

.frame-summary--score--title {
  @extend %score--title;
  .matrix--overlay & {
    @extend %gamma-sub;
    padding-top: .7rem;
  }
}

.frame-summary--score--value {
  @extend %score--value;
  .matrix--overlay & {
    @extend %small-score--value;
  }
}

// Evaluation detail
// --------------------------------------------------------
.evaluation-detail-frame {
  @extend %frame;
}

.evaluation-detail--header {
  @extend %horizontal-header;
}

.evaluation-detail--title {
  @extend %horizontal-header--title;
}

.evaluation-detail--subtitle {
  @extend %horizontal-header--subtitle;
}

// Attachment
// --------------------------------------------------------
// <figure>
.attachment {
  @extend %annotated-media;
  margin-bottom: 1.6rem;
}

// Lives inside .attachment
// <video>, for now
.attachment--media {
  @extend %annotated-media--object;
}

// Attachment placeholder
// --------------------------
// Lives inside .attachment--media & .frame-attachment
// Only visible when no video has been uploaded
// Thanks, Dave: http://daverupert.com/2012/04/uncle-daves-ol-padded-box/
// Also: lower your eyes in deference to THE GOLDEN RATIO.
.attachment-placeholder {
  height: 0;
  text-align: center;
  background-color: $tealLightest;
  padding-bottom: 61.8%;
  position: relative;
}

// Extended by .attachment-placeholder--button & .attachment-placeholder--message
%attachment-placeholder--item {
  margin-top: 30.9%;
  position: relative;
  // TODO adjust if %white-video-button changes height
  top: -1.7rem;
}

// Lives inside .attachment-placeholder
// NB top value must be equal to half the
// height of %white-video-button, but negative
// TODO test in browsers; it's almost certainly not going to work in IE7
.attachment-placeholder--button {
  @extend %attachment-placeholder--item;
  @extend %white-video-button;
}

.attachment-placeholder--message {
  @extend %attachment-placeholder--item;
  @extend %white-pill;
}

// Annotations
// --------------------------
// Lives inside <figcaption> inside .attachment
.annotations {
  @extend %box;
  height: 100%;
  header {
    padding-right: 11.8rem;
  }
}

.annotations--title {
  @extend %box--title;
}

.annotations--link {
  @extend %box--link;
}

.annotations--content {
  @extend %box--scrolly-content;
}

.annotations--list {
  @extend %comment-list;
  padding-right: 1.6rem;
  p {
    @extend %gamma-sub;
    font-style: italic;
  }
}

.annotations--list--title {
  @extend %delta;
  color: $grayLight;
  margin-bottom: 0.7rem;
  span {
    font-weight: $medium;
  }
}

// Annotation input
// ------------
// <div>
// NB see pattern comments
.annotation-input {
  @extend %speech-bubble-input;
}

// Scores
// --------------------------------------------------------
.scores {

}

.scores--link {
  @extend %heading-epsilon;
  @extend %arrow-link;
  margin-top: 1.8rem;
}

// Summary list
// --------------------------
.scores--summary-list {
  @extend %big-score-list;
}

.scores--evaluated {
  @extend %big-active-criterion;
}

.scores--unevaluated {
  @extend %big-inactive-criterion;
}

.scores--score-title {
  @extend %big-score--title;
}

.scores--score-value {
  @extend %big-score--value;
}

// Discussion
// --------------------------------------------------------
.discussion {

}

// <div>
// NB see pattern comments
.discussion--input {
  @extend %speech-bubble-input;
  padding-top: 0.5rem;
  margin-bottom: 4.3rem;
}

// Discussion list
// --------------------------
.discussion-list {
  @extend %unstyled-list;
  margin: 0;
}

.discussion-list--item {
  @extend %comment;
  & + & {
    margin-top: 2.7rem;
  }
  p {
    margin-left: 0.3rem;
  }
}

.discussion-list--header {
  @extend %avatar-header;
}

.discussion-list--name {
  @extend %avatar-header--title;
}

.discussion-list--timestamp {
  @extend %avatar-header--subtitle;
}

.discussion-list--link {
  @extend %heading-epsilon;
  @extend %bent-arrow-link;
}

// Authentication components
// --------------------------------------------------------
.authentication-tile {
  @extend %clearfix;
	@extend %centered-tile;
	background-color: $beige;
	padding: 4.8rem 5.2rem 4.8rem 27rem;
  position: relative;
}

.authentication-tile--image {
  width: 16rem;
  position: absolute;
  top: 7.6rem;
  left: 5.6rem;
}

.authentication-tile--input {
  @extend %white-text-input;
}

.authentication-tile--label {
  @extend %delta;
  @extend %no-select;
  margin: 0.8rem 0;
  float: left;
  position: relative;
  cursor: pointer;
}

// Lives inside .authentication-tile--label
.authentication-tile--checkbox {
  @extend %gray-square-checkbox;
}

// Lives inside .authentication-tile--label
.authentication-tile--checkbox-text {
  color: $grayLight;
  margin-left: 0.4rem;
}

.authentication-tile--button {
  @extend %large-teal-button;
  @extend %reset-input;
  font-weight: $regular;
  float: right;
}

.authentication-footer {
  @extend %clearfix;
	@extend %centered-tile;
  margin-top: 1.5rem;
}

.authentication-footer--list {
	@extend %piped-list;
  text-align: right;
  margin: 0;
  float: right;
  li {
    color: $grayLight;
  }
  li + li {
    margin-left: 3.6rem;
  }
  a {
    @extend %delta;
    @extend %orange-hover;
    @extend %bare-link;
  }
}

// Matrix
// --------------------------------------------------------
// Patterns
// --------------------------
// A unit that is one cell-width (any height)
%matrix--wide {
  width: $matrixCellWidth;
}

// A unit that is one cell-height (any width)
%matrix--tall {
  height: 6.8rem;
}

// TODO hide right border
%matrix--slider {
  // width: $matrixOverlayWidth - 0.1rem;
  width: $matrixOverlayWidth;
  // margin-right: 0.1rem;
  overflow-x: hidden;
  ul {
    @include transition(0.3s left ease-in-out);
    position: relative;
  }
}

// Components
// --------------------------
.matrix {
  // These two rules are only necessary to hide .matrix--column-header shadow
  position: relative;
  overflow: hidden;
  &.matrix--overlay-open {

  }
}

// Column header
// ------------
// TODO sort out a way to contain %shaded-bottom overflow when 'stuck'
.matrix--column-header {
  @extend %shaded-bottom;
  width: $mainWidth;
  height: $subHeaderHeight;
  background-color: $tealLightestAlt;
  position: absolute;
  z-index: 300;
  &.stuck {
    position: fixed;
    top: 0;
  }
  .matrix--overlay-open & {
    background-color: $tealLighter;
  }
}

// Wraps .matrix--column-header--list
.matrix--list-wrapper {
  @extend %matrix--slider;
  float: left;
  position: relative;
}

.matrix--column-header--list {
  @extend %clearfix;
  @extend %floated-list;
  height: $subHeaderHeight;
  margin: 0;
  overflow: hidden;
  li {
    @extend %matrix--wide;
    height: 100%;
    border-right: 0.1rem solid $beigeDark;
  }
}

.matrix--column-header--link {
  @extend %mega;
  @extend %bare-link;
  @extend %box-link;
  text-transform: uppercase;
  @include font-head;
  color: $tealMedium;
  padding: 1.4rem 1.6rem;
  line-height: 1;
  overflow: hidden;
  // The span hides any column header text that exceeds it's height. Scott, perhaps there is a better way to set this height?
  span {
    display: block;
    height: 5.5rem;
    overflow: hidden;
  }
  // TODO sort out how to truncate long titles. This doesn't work:
  // text-overflow: ellipsis;
  // white-space: nowrap;
  // &:first-line {
  //   white-space: normal;
  // }
}

.matrix--controls {
  @extend %clearfix;
  @extend %shaded-inside-right;
  width: $matrixCellWidth;
  height: $subHeaderHeight;
  padding: 2.1rem 3.2rem 1.7rem 1.6rem;
  float: left;
  position: relative;
}

%matrix--controls--item {
  @extend %bare-focus;
  @extend %hidden-text;
  display: block;
  width: 4.2rem;
  height: 4.2rem;
  float: right;
  &.inactive {
    @extend %inactive-link;
    @include opacity(25);
  }
  .matrix--overlay-open & {
    visibility: hidden;
  }
}

.matrix--previous {
  @extend %matrix--controls--item;
  @include svg(arrow-left-teal);
}

.matrix--next {
  @extend %matrix--controls--item;
  @include svg(arrow-right-teal);
  margin-left: 1.1rem;
}

// Overlay header
// ------------
// Lives inside .matrix--column-header
.matrix--overlay-header {
  width: $mainWidth - $matrixCellWidth;
  background-color: $tealLightestAlt;
  padding: 1.6rem 3.2rem 1.6rem 2.4rem;
  position: absolute;
  top: 0;
  bottom: 0;
  left: $matrixCellWidth;
  z-index: 300;
}

.matrix--overlay-header-close {
  @extend %hidden-text;
  @include svg(circle-x);
  display: block;
  width: 2rem;
  height: 2rem;
  margin: 1.4rem 0;
  float: left;
}

.matrix--overlay-header-title {
  @extend %alpha;
  color: $grayDark;
  font-weight: $bold;
  margin: 1.1rem 0 1.1rem 1.2rem;
  float: left;
}

// TODO sort out how to truncate long text
.matrix--overlay-header-subtitle {
  @extend %alpha;
  @include font-head;
  text-transform: uppercase;
  color: $tealMedium;
  line-height: 1;
  padding: 0.7rem 0 0.3rem 1.2rem;
  border-left: 0.1rem solid $tealMedium;
  margin: 0.8rem 0 0.8rem 1.2rem;
  float: left;
}

.matrix--overlay-header-selector {
  position: absolute;
  top: 2.4rem;
  right: 3.2rem;
}

// Row header
// ------------
// Wraps .matrix--row-header
.matrix--name-nav {
  width: $mainWidth;
  padding-top: $subHeaderHeight;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 110;
  &.stuck {
    position: fixed;
    margin: 0 auto;
    top: 11.6rem;
    left: auto;
  }
}


.matrix--row-header {
  position: relative;
  top: 0;
  ul {
    @extend %clearfix;
    @extend %unstyled-list;
    width: $matrixCellWidth;
    margin: 0;
  }
  li {
    @extend %matrix--tall;
    @extend %shaded-inside-right;
    display: table;
    width: 100%;
    background-color: $beigeAlt;
    &:nth-child(even) {
      background-color: $beigeLightAlt;
    }
    &:hover, &.active {
      background-color: $grayDarker;
      a {
        color: $orange;
      }
    }
    // These background colors are one-offs, unworthy of variables
    .matrix--overlay-open & {
      @include opacity(50);
      background-color: #c4c0c0;
      &:nth-child(even) {
        background-color: #ccc8c8;
      }
      &:hover {
        a {
          color: $white;
        }
      }
      &.active {
        @include opacity(100);
        background-color: $tealLightest;
        a {
          color: $white;
        }
      }
    }
  }
  a {
    @extend %beta;
    @extend %bare-focus;
    @extend %bare-link;
    display: table-cell;
    vertical-align: middle;
    width: $matrixCellWidth;
    font-weight: $bold;
    color: $tealMedium;
    padding: 0 1.6rem;
  }
}

// SCOTT: I couldn't figure out how to make this work without using !important. I'm trying to remove the hover state
// on the spacer rows/cells. --ZD
.matrix--row-spacer {
  &:nth-child(odd), &:nth-child(odd) li {
    &:hover, &.active {
      background-color: $beigeAlt !important;
    }
  }
  &:nth-child(even), &:nth-child(even) li {
    &:hover, &.active {
      background-color: $beigeLightAlt !important;
    }
  }
  .matrix--cell {
    height: 100%;
  }
}

.matrix--overlay-open {
  .matrix--row-spacer {
    &:nth-child(odd), &:nth-child(odd) li {
      &:hover, &.active {
        background-color: #c4c0c0 !important;
      }
    }
    &:nth-child(even), &:nth-child(even) li {
      &:hover, &.active {
        background-color: #ccc8c8 !important;
      }
    }
    .matrix--cell {
      height: 100%;
    }
  }
}

// Content
// ------------
// Wraps .matrix--content
.matrix--body {
  @extend %clearfix;
  padding: $subHeaderHeight 0 0 ($matrixCellWidth);
  position: relative;
}

.matrix--content {
  @extend %matrix--slider;
  position: relative;
  z-index: 120;
}

// <ul>
.matrix--row {
  @extend %matrix--tall;
  @extend %floated-list;
  background-color: $beigeAlt;
  margin: 0;
  overflow-y: hidden;
  &:nth-child(even) {
    background-color: $beigeLightAlt;
  }
  &:hover,
  &.active {
    background-color: $grayDarker;
  }
}

// <li> inside .matrix--row
.matrix--cell {
  @extend %matrix--wide;
  @extend %matrix--tall;
  padding: 1rem 0 1rem 1.6rem;
  border-right: 0.1rem solid transparentize($beigeDark, 0.1);
  a {
    display: block;
    float: left;
  }
  // Changes component colors on hover
  &:hover {
    .matrix--cell--play {
      @include svg(play-orange);
      &.inactive {
        @include svg(play-slash-orange);
      }
    }
    .matrix--cell--value {
      color: $orange;
    }
    .matrix--cell--indicator {
      color: $orange;
      b {
        @include svg(checkbox-unchecked-orange);
      }
      &.active {
        b {
          @include svg(checkbox-orange);
        }
      }
    }
  }
}

.matrix--cell--play {
  @extend %hidden-text;
  @include svg(play);
  display: block;
  width: 2.8rem;
  height: 2.8rem;
  margin: 1rem 0;
  float: left;
  // Changes play icon when no video exists
  &.inactive {
    @include svg(play-slash);
    .active & {
      @include svg(play-slash-beigeDark);
    }
  }
  // Changes icon color when .matrix--row is active (on hover)
  .active & {
    @include svg(play-beigeDark);
  }
}

.matrix--cell--value {
  @extend %mega-alt;
  @include font-head;
  width: 4.5rem;
  text-align: center;
  color: $tealMedium;
  padding: 0.4rem 0;
  margin: 0 1.6rem;
  float: left;
  small {
    font-size: 0.65em;
    vertical-align: top;
    padding-left: 0.2rem;
    position: relative;
    top: 0.2rem;
  }
  // Changes icon color when .matrix--row is active (on hover)
  .active & {
    color: $beigeDark;
  }
}

// <label>
.matrix--cell--indicator {
  @extend %epsilon;
  height: 3.6rem;
  color: $tealMedium;  
  font-weight: $medium;
  padding-top: 2.1rem;
  margin: 0.6rem 0;
  float: left;
  position: relative;
  cursor: pointer;
  b {
    @include svg(checkbox-unchecked);
    display: block;
    width: 1.7rem;
    height: 1.7rem;
    position: absolute;
    top: 0.2rem;
    left: 0;
  }
  &.active {
    b {
      @include svg(checkbox);
    }
  }
  // Changes icon color when .matrix--row is active (on hover)
  .active & {
    color: $beigeDark;
    b {
      @include svg(checkbox-unchecked-beigeDark);
    }
    &.active {
      b {
        @include svg(checkbox-beigeDark);
      }
    }
  }
}

// Overlay
// ------------
.matrix--overlay {
  width: $matrixOverlayWidth;
  background-color: $beige;
  position: relative;
  // border-left: 0.1rem solid $grayLighter;
  // border-right: 0.1rem solid $grayLighter;
  overflow: hidden;
  z-index: 120;
}

.matrix--overlay--header {
  @extend %shaded-bottom;
  background-color: $beigeLight;
  padding: 3.6rem 26rem 0 6.3rem;
  position: relative;

}

.matrix--overlay--title {
  @extend %mega-alt;
  font-weight: $medium;
  color: $tealMedium;
  padding: 2rem 0;
}

// Project selector
// ------------
.project-selector {
  @extend %dropdown-container;
  position: absolute;
  top: 5.9rem;
  right: 3.8rem;
}

.project-selector--toggle {
  @extend %dropdown-toggle-teal;
}

.project-selector--dropdown {
  @extend %dropdown-teal;
  @extend %dropdown-right;
}

// Alerts
// --------------------------------------------------------
// Wrapper containing all alerts
.alerts {
  padding: 3.4rem 0 1rem;
  .authentication & {
    padding-top: 0;
  }
}

.alert-success {
  $width: 8.4rem;
  @extend %alert;
  background-color: $greenLight;
  p {
    margin-left: $width + 2.5rem;
  }
  .alert--label {
    @include svg(alert-success);
    width: $width;
  }
}

.alert-notice {
  $width: 6.5rem;
  @extend %alert;
  background-color: $blueLight;
  p {
    margin-left: $width + 2.5rem;
  }
  .alert--label {
    @include svg(alert-notice);
    width: $width;
  }
}

.alert-alert {
  $width: 5.7rem;
  @extend %alert;
  background-color: $yellow;
  p {
    margin-left: $width + 2.5rem;
  }
  .alert--label {
    @include svg(alert-alert);
    width: $width;
  }
}

.alert-warning {
  $width: 8.4rem;
  @extend %alert;
  background-color: $yellow;
  p {
    margin-left: $width + 2.5rem;
  }
  .alert--label {
    @include svg(alert-warning);
    width: $width;
  }
}

.alert-error {
  $width: 10.3rem;
  @extend %alert;
  background-color: $redLight;
  p {
    margin-left: $width + 2.5rem;
  }
  .alert--label {
    @include svg(alert-error);
    width: $width;
  }
}

.alert--label {
  @extend %alert--label;
}

.alert--close {
  @extend %alert--close;
}

























